<?xml version="1.0" encoding="UTF-8"?>
<WebElementEntity>
   <description></description>
   <name>div_Shipping Address                  I wan_5b7680</name>
   <tag></tag>
   <elementGuidId>9c64078e-6901-4836-9a71-98ca39b1a886</elementGuidId>
   <selectorCollection>
      <entry>
         <key>CSS</key>
         <value>div.col-md-7.mb-3</value>
      </entry>
      <entry>
         <key>XPATH</key>
         <value>//div[@id='content']/div/div</value>
      </entry>
   </selectorCollection>
   <selectorMethod>XPATH</selectorMethod>
   <smartLocatorCollection>
      <entry>
         <key>SMART_LOCATOR</key>
         <value>#content div >> internal:has-text=&quot;Shipping Address I want to use an existing address I want to use a new address -&quot;i >> nth=1</value>
      </entry>
   </smartLocatorCollection>
   <smartLocatorEnabled>false</smartLocatorEnabled>
   <useRalativeImagePath>true</useRalativeImagePath>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>tag</name>
      <type>Main</type>
      <value>div</value>
      <webElementGuid>a1e2c57e-f764-44d5-9c18-8ff9f942860b</webElementGuid>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>class</name>
      <type>Main</type>
      <value>col-md-7 mb-3</value>
      <webElementGuid>a16b124d-3eac-4d0c-bafc-1b2d2b967641</webElementGuid>
   </webElementProperties>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>text</name>
      <type>Main</type>
      <value>
                                                  
  Shipping Address
  
    
      
      I want to use an existing address
    
    
      
      I want to use a new address
    
  
  
    
       --- Please Select --- 
              michael meek, address 1, city 2, Carmarthenshire, United Kingdom
          
    
  
  
  
    
      
        
          First Name
          
          
        
        
          Last Name
          
          
        
        
          Company
          
        
        
          Address 1
          
          
        
        
          Address 2
          
        
        
          City
          
          
        
        
          Post Code
          
          
        
        
          Country
          
             --- Please Select --- 
                          Aaland Islands
                          Afghanistan
                          Albania
                          Algeria
                          American Samoa
                          Andorra
                          Angola
                          Anguilla
                          Antarctica
                          Antigua and Barbuda
                          Argentina
                          Armenia
                          Aruba
                          Ascension Island (British)
                          Australia
                          Austria
                          Azerbaijan
                          Bahrain
                          Bangladesh
                          Barbados
                          Belarus
                          Belgium
                          Belize
                          Benin
                          Bermuda
                          Bhutan
                          Bolivia
                          Bonaire, Sint Eustatius and Saba
                          Bosnia and Herzegovina
                          Botswana
                          Bouvet Island
                          Brazil
                          British Indian Ocean Territory
                          Brunei
                          Bulgaria
                          Burkina Faso
                          Burundi
                          Cambodia
                          Cameroon
                          Canada
                          Canary Islands
                          Cape Verde
                          Cayman Islands
                          Central African Republic
                          Chad
                          Chile
                          China
                          Christmas Island
                          Cocos (Keeling) Islands
                          Colombia
                          Comoros
                          Congo
                          Cook Islands
                          Costa Rica
                          Cote D'Ivoire
                          Croatia
                          Cuba
                          Curacao
                          Cyprus
                          Czech Republic
                          Democratic Republic of the Congo
                          Denmark
                          Djibouti
                          Dominica
                          Dominican Republic
                          Ecuador
                          Egypt
                          El Salvador
                          Equatorial Guinea
                          Eritrea
                          Estonia
                          Eswatini
                          Ethiopia
                          Falkland Islands (Malvinas)
                          Faroe Islands
                          Fiji
                          Finland
                          France, Metropolitan
                          French Guiana
                          French Polynesia
                          French Southern Territories
                          Gabon
                          Georgia
                          Germany
                          Ghana
                          Gibraltar
                          Greece
                          Greenland
                          Grenada
                          Guadeloupe
                          Guam
                          Guatemala
                          Guernsey
                          Guinea
                          Guinea-Bissau
                          Guyana
                          Haiti
                          Heard and Mc Donald Islands
                          Honduras
                          Hong Kong
                          Hungary
                          Iceland
                          India
                          Indonesia
                          Iran (Islamic Republic of)
                          Iraq
                          Ireland
                          Isle of Man
                          Israel
                          Italy
                          Jamaica
                          Japan
                          Jersey
                          Jordan
                          Kazakhstan
                          Kenya
                          Kiribati
                          Kosovo, Republic of
                          Kuwait
                          Kyrgyzstan
                          Lao People's Democratic Republic (the)
                          Latvia
                          Lebanon
                          Lesotho
                          Liberia
                          Libya
                          Liechtenstein
                          Lithuania
                          Luxembourg
                          Macau
                          Madagascar
                          Malawi
                          Malaysia
                          Maldives
                          Mali
                          Malta
                          Marshall Islands
                          Martinique
                          Mauritania
                          Mauritius
                          Mayotte
                          Mexico
                          Micronesia, Federated States of
                          Moldova, Republic of
                          Monaco
                          Mongolia
                          Montenegro
                          Montserrat
                          Morocco
                          Mozambique
                          Myanmar
                          Namibia
                          Nauru
                          Nepal
                          Netherlands
                          Netherlands Antilles
                          New Caledonia
                          New Zealand
                          Nicaragua
                          Niger
                          Nigeria
                          Niue
                          Norfolk Island
                          North Korea
                          North Macedonia
                          Northern Mariana Islands
                          Norway
                          Occupied Palestinian Territory
                          Oman
                          Pakistan
                          Palau
                          Panama
                          Papua New Guinea
                          Paraguay
                          Peru
                          Philippines
                          Pitcairn
                          Poland
                          Portugal
                          Puerto Rico
                          Qatar
                          Republic of Türkiye
                          Reunion
                          Romania
                          Russian Federation (the)
                          Rwanda
                          Saint Kitts and Nevis
                          Saint Lucia
                          Saint Vincent and the Grenadines
                          Samoa
                          San Marino
                          Sao Tome and Principe
                          Saudi Arabia
                          Senegal
                          Serbia
                          Seychelles
                          Sierra Leone
                          Singapore
                          Slovak Republic
                          Slovenia
                          Solomon Islands
                          Somalia
                          South Africa
                          South Georgia &amp; South Sandwich Islands
                          South Korea
                          South Sudan
                          Spain
                          Sri Lanka
                          St. Barthelemy
                          St. Helena
                          St. Martin (French part)
                          St. Pierre and Miquelon
                          Sudan
                          Suriname
                          Svalbard and Jan Mayen Islands
                          Sweden
                          Switzerland
                          Syrian Arab Republic
                          Taiwan
                          Tajikistan
                          Tanzania, United Republic of
                          Thailand
                          The Bahamas
                          The Gambia
                          Timor-Leste
                          Togo
                          Tokelau
                          Tonga
                          Trinidad and Tobago
                          Tristan da Cunha
                          Tunisia
                          Turkmenistan
                          Turks and Caicos Islands
                          Tuvalu
                          Uganda
                          Ukraine
                          United Arab Emirates
                          United Kingdom
                          United States
                          United States Minor Outlying Islands
                          Uruguay
                          Uzbekistan
                          Vanuatu
                          Vatican City State (Holy See)
                          Venezuela
                          Viet Nam
                          Virgin Islands (British)
                          Virgin Islands (U.S.)
                          Wallis and Futuna Islands
                          Western Sahara
                          Yemen
                          Zambia
                          Zimbabwe
                      
          
        
        
          Region / State
          
             --- Please Select --- 
                          Aberdeen
                          Aberdeenshire
                          Anglesey
                          Angus
                          Argyll and Bute
                          Bedfordshire
                          Berkshire
                          Blaenau Gwent
                          Bridgend
                          Bristol
                          Buckinghamshire
                          Caerphilly
                          Cambridgeshire
                          Cardiff
                          Carmarthenshire
                          Ceredigion
                          Cheshire
                          Clackmannanshire
                          Conwy
                          Cornwall
                          County Antrim
                          County Armagh
                          County Down
                          County Fermanagh
                          County Londonderry
                          County Tyrone
                          Cumbria
                          Denbighshire
                          Derbyshire
                          Devon
                          Dorset
                          Dumfries and Galloway
                          Dundee
                          Durham
                          East Ayrshire
                          East Dunbartonshire
                          East Lothian
                          East Renfrewshire
                          East Riding of Yorkshire
                          East Sussex
                          Edinburgh
                          Essex
                          Falkirk
                          Fife
                          Flintshire
                          Glasgow
                          Gloucestershire
                          Greater London
                          Greater Manchester
                          Gwynedd
                          Hampshire
                          Herefordshire
                          Hertfordshire
                          Highlands
                          Inverclyde
                          Isle of Wight
                          Kent
                          Lancashire
                          Leicestershire
                          Lincolnshire
                          Merseyside
                          Merthyr Tydfil
                          Midlothian
                          Monmouthshire
                          Moray
                          Neath Port Talbot
                          Newport
                          Norfolk
                          North Ayrshire
                          North Lanarkshire
                          North Yorkshire
                          Northamptonshire
                          Northumberland
                          Nottinghamshire
                          Orkney Islands
                          Oxfordshire
                          Pembrokeshire
                          Perth and Kinross
                          Powys
                          Renfrewshire
                          Rhondda Cynon Taff
                          Rutland
                          Scottish Borders
                          Shetland Islands
                          Shropshire
                          Somerset
                          South Ayrshire
                          South Lanarkshire
                          South Yorkshire
                          Staffordshire
                          Stirling
                          Suffolk
                          Surrey
                          Swansea
                          Torfaen
                          Tyne and Wear
                          Vale of Glamorgan
                          Warwickshire
                          West Dunbartonshire
                          West Lothian
                          West Midlands
                          West Sussex
                          West Yorkshire
                          Western Isles
                          Wiltshire
                          Worcestershire
                          Wrexham
                      
          
        

        
      
      
        Continue
      
    
  

&lt;!--
$('input[name=\'shipping_existing\']').on('change', function() {
    if ($(this).val() == 1) {
        $('#shipping-existing').show();
        $('#shipping-new').hide();
    } else {
        $('#shipping-existing').hide();
        $('#shipping-new').show();
    }
});

// Existing Shipping Address
$('#input-shipping-address').on('change', function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: 'index.php?route=checkout/shipping_address.address&amp;language=en-gb&amp;address_id=' + $(element).val(),
            dataType: 'json',
            beforeSend: function() {
                $(element).prop('disabled', true);
            },
            complete: function() {
                $(element).prop('disabled', false);
            },
            success: function(json) {
                console.log(json);

                $('#input-shipping-address').removeClass('is-invalid');
                $('#error-shipping-address').removeClass('d-block');

                if (json['redirect']) {
                    location = json['redirect'];
                }

                if (json['error']) {
                    $('#input-shipping-address').addClass('is-invalid');
                    $('#error-shipping-address').html(json['error']).addClass('d-block');
                }

                if (json['success']) {
                    $('#alert').prepend('&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> ' + json['success'] + ' &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>');

                    $('#input-shipping-method').val('');
                    $('#input-payment-method').val('');

                    $('#checkout-confirm').load('index.php?route=checkout/confirm.confirm&amp;language=en-gb');
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

// New Shipping Address
$('#form-shipping-address').on('submit', function(e) {
    e.preventDefault();

    chain.attach(function() {
        return $.ajax({
            url: 'index.php?route=checkout/shipping_address.save&amp;language=en-gb',
            type: 'post',
            data: $('#form-shipping-address').serialize(),
            dataType: 'json',
            contentType: 'application/x-www-form-urlencoded',
            beforeSend: function() {
                $('#button-shipping-address').button('loading');
            },
            complete: function() {
                $('#button-shipping-address').button('reset');
            },
            success: function(json) {
                console.log(json);

                $('#form-shipping-address').find('.is-invalid').removeClass('is-invalid');
                $('#form-shipping-address').find('.invalid-feedback').removeClass('d-block');

                if (json['redirect']) {
                    location = json['redirect'];
                }

                if (json['error']) {
                    if (json['error']['warning']) {
                        $('#alert').prepend('&lt;div class=&quot;alert alert-danger alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-exclamation&quot;>&lt;/i> ' + json['error']['warning'] + ' &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>');
                    }

                    for (i in json['error']) {
                        for (key in json['error']) {
                            $('#input-shipping-' + key.replaceAll('_', '-')).addClass('is-invalid').find('.form-control, .form-select, .form-check-input, .form-check-label').addClass('is-invalid');
                            $('#error-shipping-' + key.replaceAll('_', '-')).html(json['error'][key]).addClass('d-block');
                        }
                    }
                }

                if (json['success']) {
                    $('#alert').prepend('&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> ' + json['success'] + ' &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>');

                    $('#form-shipping-address')[0].reset();

                    var html = '&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>';

                    if (json['addresses']) {
                        for (i in json['addresses']) {
                            html += '&lt;option value=&quot;' + json['addresses'][i]['address_id'] + '&quot;>' + json['addresses'][i]['firstname'] + ' ' + json['addresses'][i]['lastname'] + ', ' + (json['addresses'][i]['company'] ? json['addresses'][i]['company'] + ', ' : '') + json['addresses'][i]['address_1'] + ', ' + json['addresses'][i]['city'] + ', ' + json['addresses'][i]['zone'] + ', ' + json['addresses'][i]['country'] + '&lt;/option>';
                        }
                    }

                    // Shipping Address
                    $('#input-shipping-address').html(html);

                    $('#input-shipping-address').val(json['address_id']);

                    $('#shipping-addresses').css({display: 'block'});

                    $('#input-shipping-existing').trigger('click');

                    // Payment Address
                    var payment_address_id = $('#input-payment-address').val();

                    $('#input-payment-address').html(html);

                    if (payment_address_id) {
                        $('#input-payment-address').val(payment_address_id);
                    }

                    $('#payment-addresses').css({display: 'block'});

                    $('#input-payment-existing').trigger('click');

                    $('#input-shipping-method').val('');
                    $('#input-payment-method').val('');

                    $('#checkout-confirm').load('index.php?route=checkout/confirm.confirm&amp;language=en-gb');
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

$('#input-shipping-country').on('change', function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: 'index.php?route=localisation/country&amp;language=en-gb&amp;country_id=' + $('#input-shipping-country').val(),
            dataType: 'json',
            beforeSend: function() {
                $(element).prop('disabled', true);
                $('#input-shipping-zone').prop('disabled', true);
            },
            complete: function() {
                $(element).prop('disabled', false);
                $('#input-shipping-zone').prop('disabled', false);
            },
            success: function(json) {
                if (json['postcode_required'] == '1') {
                    $('#input-shipping-postcode').parent().addClass('required');
                } else {
                    $('#input-shipping-postcode').parent().removeClass('required');
                }

                html = '&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>';

                if (json['zone'] &amp;&amp; json['zone'] != '') {
                    for (i = 0; i &lt; json['zone'].length; i++) {
                        html += '&lt;option value=&quot;' + json['zone'][i]['zone_id'] + '&quot;';

                        if (json['zone'][i]['zone_id'] == '') {
                            html += ' selected';
                        }

                        html += '>' + json['zone'][i]['name'] + '&lt;/option>';
                    }
                } else {
                    html += '&lt;option value=&quot;0&quot; selected>\u0020\u002D\u002D\u002D\u0020None\u0020\u002D\u002D\u002D\u0020&lt;/option>';
                }

                $('#input-shipping-zone').html(html);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});
//-->

                      </value>
      <webElementGuid>cddcf681-90db-402c-9d9d-7b3a412ca15d</webElementGuid>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath</name>
      <type>Main</type>
      <value>id(&quot;content&quot;)/div[@class=&quot;row&quot;]/div[@class=&quot;col-md-7 mb-3&quot;]</value>
      <webElementGuid>0a5d0236-d5af-47c9-b959-3854932c2cc9</webElementGuid>
   </webElementProperties>
   <webElementXpaths>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:idRelative</name>
      <type>Main</type>
      <value>//div[@id='content']/div/div</value>
      <webElementGuid>3eeec526-6f66-4946-9965-21c6230d2ff6</webElementGuid>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:neighbor</name>
      <type>Main</type>
      <value>(.//*[normalize-space(text()) and normalize-space(.)='Checkout'])[5]/following::div[2]</value>
      <webElementGuid>9973a038-3f99-418a-9290-b0109af41580</webElementGuid>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:neighbor</name>
      <type>Main</type>
      <value>(.//*[normalize-space(text()) and normalize-space(.)='Checkout'])[4]/following::div[4]</value>
      <webElementGuid>cd93b037-59ba-4e9f-ae31-5cf8a7d4f2d1</webElementGuid>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:position</name>
      <type>Main</type>
      <value>//div[2]/div/div/div/div</value>
      <webElementGuid>b5ad485a-0e1d-4759-8157-eace9f3a0d7c</webElementGuid>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:customAttributes</name>
      <type>Main</type>
      <value>//div[(text() = concat(&quot;
                                                  
  Shipping Address
  
    
      
      I want to use an existing address
    
    
      
      I want to use a new address
    
  
  
    
       --- Please Select --- 
              michael meek, address 1, city 2, Carmarthenshire, United Kingdom
          
    
  
  
  
    
      
        
          First Name
          
          
        
        
          Last Name
          
          
        
        
          Company
          
        
        
          Address 1
          
          
        
        
          Address 2
          
        
        
          City
          
          
        
        
          Post Code
          
          
        
        
          Country
          
             --- Please Select --- 
                          Aaland Islands
                          Afghanistan
                          Albania
                          Algeria
                          American Samoa
                          Andorra
                          Angola
                          Anguilla
                          Antarctica
                          Antigua and Barbuda
                          Argentina
                          Armenia
                          Aruba
                          Ascension Island (British)
                          Australia
                          Austria
                          Azerbaijan
                          Bahrain
                          Bangladesh
                          Barbados
                          Belarus
                          Belgium
                          Belize
                          Benin
                          Bermuda
                          Bhutan
                          Bolivia
                          Bonaire, Sint Eustatius and Saba
                          Bosnia and Herzegovina
                          Botswana
                          Bouvet Island
                          Brazil
                          British Indian Ocean Territory
                          Brunei
                          Bulgaria
                          Burkina Faso
                          Burundi
                          Cambodia
                          Cameroon
                          Canada
                          Canary Islands
                          Cape Verde
                          Cayman Islands
                          Central African Republic
                          Chad
                          Chile
                          China
                          Christmas Island
                          Cocos (Keeling) Islands
                          Colombia
                          Comoros
                          Congo
                          Cook Islands
                          Costa Rica
                          Cote D&quot; , &quot;'&quot; , &quot;Ivoire
                          Croatia
                          Cuba
                          Curacao
                          Cyprus
                          Czech Republic
                          Democratic Republic of the Congo
                          Denmark
                          Djibouti
                          Dominica
                          Dominican Republic
                          Ecuador
                          Egypt
                          El Salvador
                          Equatorial Guinea
                          Eritrea
                          Estonia
                          Eswatini
                          Ethiopia
                          Falkland Islands (Malvinas)
                          Faroe Islands
                          Fiji
                          Finland
                          France, Metropolitan
                          French Guiana
                          French Polynesia
                          French Southern Territories
                          Gabon
                          Georgia
                          Germany
                          Ghana
                          Gibraltar
                          Greece
                          Greenland
                          Grenada
                          Guadeloupe
                          Guam
                          Guatemala
                          Guernsey
                          Guinea
                          Guinea-Bissau
                          Guyana
                          Haiti
                          Heard and Mc Donald Islands
                          Honduras
                          Hong Kong
                          Hungary
                          Iceland
                          India
                          Indonesia
                          Iran (Islamic Republic of)
                          Iraq
                          Ireland
                          Isle of Man
                          Israel
                          Italy
                          Jamaica
                          Japan
                          Jersey
                          Jordan
                          Kazakhstan
                          Kenya
                          Kiribati
                          Kosovo, Republic of
                          Kuwait
                          Kyrgyzstan
                          Lao People&quot; , &quot;'&quot; , &quot;s Democratic Republic (the)
                          Latvia
                          Lebanon
                          Lesotho
                          Liberia
                          Libya
                          Liechtenstein
                          Lithuania
                          Luxembourg
                          Macau
                          Madagascar
                          Malawi
                          Malaysia
                          Maldives
                          Mali
                          Malta
                          Marshall Islands
                          Martinique
                          Mauritania
                          Mauritius
                          Mayotte
                          Mexico
                          Micronesia, Federated States of
                          Moldova, Republic of
                          Monaco
                          Mongolia
                          Montenegro
                          Montserrat
                          Morocco
                          Mozambique
                          Myanmar
                          Namibia
                          Nauru
                          Nepal
                          Netherlands
                          Netherlands Antilles
                          New Caledonia
                          New Zealand
                          Nicaragua
                          Niger
                          Nigeria
                          Niue
                          Norfolk Island
                          North Korea
                          North Macedonia
                          Northern Mariana Islands
                          Norway
                          Occupied Palestinian Territory
                          Oman
                          Pakistan
                          Palau
                          Panama
                          Papua New Guinea
                          Paraguay
                          Peru
                          Philippines
                          Pitcairn
                          Poland
                          Portugal
                          Puerto Rico
                          Qatar
                          Republic of Türkiye
                          Reunion
                          Romania
                          Russian Federation (the)
                          Rwanda
                          Saint Kitts and Nevis
                          Saint Lucia
                          Saint Vincent and the Grenadines
                          Samoa
                          San Marino
                          Sao Tome and Principe
                          Saudi Arabia
                          Senegal
                          Serbia
                          Seychelles
                          Sierra Leone
                          Singapore
                          Slovak Republic
                          Slovenia
                          Solomon Islands
                          Somalia
                          South Africa
                          South Georgia &amp; South Sandwich Islands
                          South Korea
                          South Sudan
                          Spain
                          Sri Lanka
                          St. Barthelemy
                          St. Helena
                          St. Martin (French part)
                          St. Pierre and Miquelon
                          Sudan
                          Suriname
                          Svalbard and Jan Mayen Islands
                          Sweden
                          Switzerland
                          Syrian Arab Republic
                          Taiwan
                          Tajikistan
                          Tanzania, United Republic of
                          Thailand
                          The Bahamas
                          The Gambia
                          Timor-Leste
                          Togo
                          Tokelau
                          Tonga
                          Trinidad and Tobago
                          Tristan da Cunha
                          Tunisia
                          Turkmenistan
                          Turks and Caicos Islands
                          Tuvalu
                          Uganda
                          Ukraine
                          United Arab Emirates
                          United Kingdom
                          United States
                          United States Minor Outlying Islands
                          Uruguay
                          Uzbekistan
                          Vanuatu
                          Vatican City State (Holy See)
                          Venezuela
                          Viet Nam
                          Virgin Islands (British)
                          Virgin Islands (U.S.)
                          Wallis and Futuna Islands
                          Western Sahara
                          Yemen
                          Zambia
                          Zimbabwe
                      
          
        
        
          Region / State
          
             --- Please Select --- 
                          Aberdeen
                          Aberdeenshire
                          Anglesey
                          Angus
                          Argyll and Bute
                          Bedfordshire
                          Berkshire
                          Blaenau Gwent
                          Bridgend
                          Bristol
                          Buckinghamshire
                          Caerphilly
                          Cambridgeshire
                          Cardiff
                          Carmarthenshire
                          Ceredigion
                          Cheshire
                          Clackmannanshire
                          Conwy
                          Cornwall
                          County Antrim
                          County Armagh
                          County Down
                          County Fermanagh
                          County Londonderry
                          County Tyrone
                          Cumbria
                          Denbighshire
                          Derbyshire
                          Devon
                          Dorset
                          Dumfries and Galloway
                          Dundee
                          Durham
                          East Ayrshire
                          East Dunbartonshire
                          East Lothian
                          East Renfrewshire
                          East Riding of Yorkshire
                          East Sussex
                          Edinburgh
                          Essex
                          Falkirk
                          Fife
                          Flintshire
                          Glasgow
                          Gloucestershire
                          Greater London
                          Greater Manchester
                          Gwynedd
                          Hampshire
                          Herefordshire
                          Hertfordshire
                          Highlands
                          Inverclyde
                          Isle of Wight
                          Kent
                          Lancashire
                          Leicestershire
                          Lincolnshire
                          Merseyside
                          Merthyr Tydfil
                          Midlothian
                          Monmouthshire
                          Moray
                          Neath Port Talbot
                          Newport
                          Norfolk
                          North Ayrshire
                          North Lanarkshire
                          North Yorkshire
                          Northamptonshire
                          Northumberland
                          Nottinghamshire
                          Orkney Islands
                          Oxfordshire
                          Pembrokeshire
                          Perth and Kinross
                          Powys
                          Renfrewshire
                          Rhondda Cynon Taff
                          Rutland
                          Scottish Borders
                          Shetland Islands
                          Shropshire
                          Somerset
                          South Ayrshire
                          South Lanarkshire
                          South Yorkshire
                          Staffordshire
                          Stirling
                          Suffolk
                          Surrey
                          Swansea
                          Torfaen
                          Tyne and Wear
                          Vale of Glamorgan
                          Warwickshire
                          West Dunbartonshire
                          West Lothian
                          West Midlands
                          West Sussex
                          West Yorkshire
                          Western Isles
                          Wiltshire
                          Worcestershire
                          Wrexham
                      
          
        

        
      
      
        Continue
      
    
  

&lt;!--
$(&quot; , &quot;'&quot; , &quot;input[name=\&quot; , &quot;'&quot; , &quot;shipping_existing\&quot; , &quot;'&quot; , &quot;]&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    if ($(this).val() == 1) {
        $(&quot; , &quot;'&quot; , &quot;#shipping-existing&quot; , &quot;'&quot; , &quot;).show();
        $(&quot; , &quot;'&quot; , &quot;#shipping-new&quot; , &quot;'&quot; , &quot;).hide();
    } else {
        $(&quot; , &quot;'&quot; , &quot;#shipping-existing&quot; , &quot;'&quot; , &quot;).hide();
        $(&quot; , &quot;'&quot; , &quot;#shipping-new&quot; , &quot;'&quot; , &quot;).show();
    }
});

// Existing Shipping Address
$(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=checkout/shipping_address.address&amp;language=en-gb&amp;address_id=&quot; , &quot;'&quot; , &quot; + $(element).val(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
            },
            complete: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
            },
            success: function(json) {
                console.log(json);

                $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                $(&quot; , &quot;'&quot; , &quot;#error-shipping-address&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);

                if (json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;]) {
                    location = json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;];
                }

                if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#error-shipping-address&quot; , &quot;'&quot; , &quot;).html(json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]).addClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);
                }

                if (json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#input-payment-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#checkout-confirm&quot; , &quot;'&quot; , &quot;).load(&quot; , &quot;'&quot; , &quot;index.php?route=checkout/confirm.confirm&amp;language=en-gb&quot; , &quot;'&quot; , &quot;);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

// New Shipping Address
$(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;submit&quot; , &quot;'&quot; , &quot;, function(e) {
    e.preventDefault();

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=checkout/shipping_address.save&amp;language=en-gb&quot; , &quot;'&quot; , &quot;,
            type: &quot; , &quot;'&quot; , &quot;post&quot; , &quot;'&quot; , &quot;,
            data: $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).serialize(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            contentType: &quot; , &quot;'&quot; , &quot;application/x-www-form-urlencoded&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(&quot; , &quot;'&quot; , &quot;#button-shipping-address&quot; , &quot;'&quot; , &quot;).button(&quot; , &quot;'&quot; , &quot;loading&quot; , &quot;'&quot; , &quot;);
            },
            complete: function() {
                $(&quot; , &quot;'&quot; , &quot;#button-shipping-address&quot; , &quot;'&quot; , &quot;).button(&quot; , &quot;'&quot; , &quot;reset&quot; , &quot;'&quot; , &quot;);
            },
            success: function(json) {
                console.log(json);

                $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.is-invalid&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.invalid-feedback&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);

                if (json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;]) {
                    location = json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;];
                }

                if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                    if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][&quot; , &quot;'&quot; , &quot;warning&quot; , &quot;'&quot; , &quot;]) {
                        $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-danger alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-exclamation&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][&quot; , &quot;'&quot; , &quot;warning&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);
                    }

                    for (i in json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                        for (key in json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                            $(&quot; , &quot;'&quot; , &quot;#input-shipping-&quot; , &quot;'&quot; , &quot; + key.replaceAll(&quot; , &quot;'&quot; , &quot;_&quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot;-&quot; , &quot;'&quot; , &quot;)).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.form-control, .form-select, .form-check-input, .form-check-label&quot; , &quot;'&quot; , &quot;).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                            $(&quot; , &quot;'&quot; , &quot;#error-shipping-&quot; , &quot;'&quot; , &quot; + key.replaceAll(&quot; , &quot;'&quot; , &quot;_&quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot;-&quot; , &quot;'&quot; , &quot;)).html(json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][key]).addClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);
                        }
                    }
                }

                if (json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;)[0].reset();

                    var html = &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;

                    if (json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;]) {
                        for (i in json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;]) {
                            html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;address_id&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&quot;>&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;firstname&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;lastname&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + (json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;company&quot; , &quot;'&quot; , &quot;] ? json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;company&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; : &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;address_1&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;city&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;country&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&lt;/option>&quot; , &quot;'&quot; , &quot;;
                        }
                    }

                    // Shipping Address
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).html(html);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).val(json[&quot; , &quot;'&quot; , &quot;address_id&quot; , &quot;'&quot; , &quot;]);

                    $(&quot; , &quot;'&quot; , &quot;#shipping-addresses&quot; , &quot;'&quot; , &quot;).css({display: &quot; , &quot;'&quot; , &quot;block&quot; , &quot;'&quot; , &quot;});

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-existing&quot; , &quot;'&quot; , &quot;).trigger(&quot; , &quot;'&quot; , &quot;click&quot; , &quot;'&quot; , &quot;);

                    // Payment Address
                    var payment_address_id = $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).val();

                    $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).html(html);

                    if (payment_address_id) {
                        $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).val(payment_address_id);
                    }

                    $(&quot; , &quot;'&quot; , &quot;#payment-addresses&quot; , &quot;'&quot; , &quot;).css({display: &quot; , &quot;'&quot; , &quot;block&quot; , &quot;'&quot; , &quot;});

                    $(&quot; , &quot;'&quot; , &quot;#input-payment-existing&quot; , &quot;'&quot; , &quot;).trigger(&quot; , &quot;'&quot; , &quot;click&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#input-payment-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#checkout-confirm&quot; , &quot;'&quot; , &quot;).load(&quot; , &quot;'&quot; , &quot;index.php?route=checkout/confirm.confirm&amp;language=en-gb&quot; , &quot;'&quot; , &quot;);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

$(&quot; , &quot;'&quot; , &quot;#input-shipping-country&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=localisation/country&amp;language=en-gb&amp;country_id=&quot; , &quot;'&quot; , &quot; + $(&quot; , &quot;'&quot; , &quot;#input-shipping-country&quot; , &quot;'&quot; , &quot;).val(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
            },
            complete: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
            },
            success: function(json) {
                if (json[&quot; , &quot;'&quot; , &quot;postcode_required&quot; , &quot;'&quot; , &quot;] == &quot; , &quot;'&quot; , &quot;1&quot; , &quot;'&quot; , &quot;) {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-postcode&quot; , &quot;'&quot; , &quot;).parent().addClass(&quot; , &quot;'&quot; , &quot;required&quot; , &quot;'&quot; , &quot;);
                } else {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-postcode&quot; , &quot;'&quot; , &quot;).parent().removeClass(&quot; , &quot;'&quot; , &quot;required&quot; , &quot;'&quot; , &quot;);
                }

                html = &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;

                if (json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] &amp;&amp; json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] != &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) {
                    for (i = 0; i &lt; json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;].length; i++) {
                        html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone_id&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&quot;&quot; , &quot;'&quot; , &quot;;

                        if (json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone_id&quot; , &quot;'&quot; , &quot;] == &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) {
                            html += &quot; , &quot;'&quot; , &quot; selected&quot; , &quot;'&quot; , &quot;;
                        }

                        html += &quot; , &quot;'&quot; , &quot;>&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;name&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&lt;/option>&quot; , &quot;'&quot; , &quot;;
                    }
                } else {
                    html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;0&quot; selected>\u0020\u002D\u002D\u002D\u0020None\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;
                }

                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).html(html);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});
//-->

                      &quot;) or . = concat(&quot;
                                                  
  Shipping Address
  
    
      
      I want to use an existing address
    
    
      
      I want to use a new address
    
  
  
    
       --- Please Select --- 
              michael meek, address 1, city 2, Carmarthenshire, United Kingdom
          
    
  
  
  
    
      
        
          First Name
          
          
        
        
          Last Name
          
          
        
        
          Company
          
        
        
          Address 1
          
          
        
        
          Address 2
          
        
        
          City
          
          
        
        
          Post Code
          
          
        
        
          Country
          
             --- Please Select --- 
                          Aaland Islands
                          Afghanistan
                          Albania
                          Algeria
                          American Samoa
                          Andorra
                          Angola
                          Anguilla
                          Antarctica
                          Antigua and Barbuda
                          Argentina
                          Armenia
                          Aruba
                          Ascension Island (British)
                          Australia
                          Austria
                          Azerbaijan
                          Bahrain
                          Bangladesh
                          Barbados
                          Belarus
                          Belgium
                          Belize
                          Benin
                          Bermuda
                          Bhutan
                          Bolivia
                          Bonaire, Sint Eustatius and Saba
                          Bosnia and Herzegovina
                          Botswana
                          Bouvet Island
                          Brazil
                          British Indian Ocean Territory
                          Brunei
                          Bulgaria
                          Burkina Faso
                          Burundi
                          Cambodia
                          Cameroon
                          Canada
                          Canary Islands
                          Cape Verde
                          Cayman Islands
                          Central African Republic
                          Chad
                          Chile
                          China
                          Christmas Island
                          Cocos (Keeling) Islands
                          Colombia
                          Comoros
                          Congo
                          Cook Islands
                          Costa Rica
                          Cote D&quot; , &quot;'&quot; , &quot;Ivoire
                          Croatia
                          Cuba
                          Curacao
                          Cyprus
                          Czech Republic
                          Democratic Republic of the Congo
                          Denmark
                          Djibouti
                          Dominica
                          Dominican Republic
                          Ecuador
                          Egypt
                          El Salvador
                          Equatorial Guinea
                          Eritrea
                          Estonia
                          Eswatini
                          Ethiopia
                          Falkland Islands (Malvinas)
                          Faroe Islands
                          Fiji
                          Finland
                          France, Metropolitan
                          French Guiana
                          French Polynesia
                          French Southern Territories
                          Gabon
                          Georgia
                          Germany
                          Ghana
                          Gibraltar
                          Greece
                          Greenland
                          Grenada
                          Guadeloupe
                          Guam
                          Guatemala
                          Guernsey
                          Guinea
                          Guinea-Bissau
                          Guyana
                          Haiti
                          Heard and Mc Donald Islands
                          Honduras
                          Hong Kong
                          Hungary
                          Iceland
                          India
                          Indonesia
                          Iran (Islamic Republic of)
                          Iraq
                          Ireland
                          Isle of Man
                          Israel
                          Italy
                          Jamaica
                          Japan
                          Jersey
                          Jordan
                          Kazakhstan
                          Kenya
                          Kiribati
                          Kosovo, Republic of
                          Kuwait
                          Kyrgyzstan
                          Lao People&quot; , &quot;'&quot; , &quot;s Democratic Republic (the)
                          Latvia
                          Lebanon
                          Lesotho
                          Liberia
                          Libya
                          Liechtenstein
                          Lithuania
                          Luxembourg
                          Macau
                          Madagascar
                          Malawi
                          Malaysia
                          Maldives
                          Mali
                          Malta
                          Marshall Islands
                          Martinique
                          Mauritania
                          Mauritius
                          Mayotte
                          Mexico
                          Micronesia, Federated States of
                          Moldova, Republic of
                          Monaco
                          Mongolia
                          Montenegro
                          Montserrat
                          Morocco
                          Mozambique
                          Myanmar
                          Namibia
                          Nauru
                          Nepal
                          Netherlands
                          Netherlands Antilles
                          New Caledonia
                          New Zealand
                          Nicaragua
                          Niger
                          Nigeria
                          Niue
                          Norfolk Island
                          North Korea
                          North Macedonia
                          Northern Mariana Islands
                          Norway
                          Occupied Palestinian Territory
                          Oman
                          Pakistan
                          Palau
                          Panama
                          Papua New Guinea
                          Paraguay
                          Peru
                          Philippines
                          Pitcairn
                          Poland
                          Portugal
                          Puerto Rico
                          Qatar
                          Republic of Türkiye
                          Reunion
                          Romania
                          Russian Federation (the)
                          Rwanda
                          Saint Kitts and Nevis
                          Saint Lucia
                          Saint Vincent and the Grenadines
                          Samoa
                          San Marino
                          Sao Tome and Principe
                          Saudi Arabia
                          Senegal
                          Serbia
                          Seychelles
                          Sierra Leone
                          Singapore
                          Slovak Republic
                          Slovenia
                          Solomon Islands
                          Somalia
                          South Africa
                          South Georgia &amp; South Sandwich Islands
                          South Korea
                          South Sudan
                          Spain
                          Sri Lanka
                          St. Barthelemy
                          St. Helena
                          St. Martin (French part)
                          St. Pierre and Miquelon
                          Sudan
                          Suriname
                          Svalbard and Jan Mayen Islands
                          Sweden
                          Switzerland
                          Syrian Arab Republic
                          Taiwan
                          Tajikistan
                          Tanzania, United Republic of
                          Thailand
                          The Bahamas
                          The Gambia
                          Timor-Leste
                          Togo
                          Tokelau
                          Tonga
                          Trinidad and Tobago
                          Tristan da Cunha
                          Tunisia
                          Turkmenistan
                          Turks and Caicos Islands
                          Tuvalu
                          Uganda
                          Ukraine
                          United Arab Emirates
                          United Kingdom
                          United States
                          United States Minor Outlying Islands
                          Uruguay
                          Uzbekistan
                          Vanuatu
                          Vatican City State (Holy See)
                          Venezuela
                          Viet Nam
                          Virgin Islands (British)
                          Virgin Islands (U.S.)
                          Wallis and Futuna Islands
                          Western Sahara
                          Yemen
                          Zambia
                          Zimbabwe
                      
          
        
        
          Region / State
          
             --- Please Select --- 
                          Aberdeen
                          Aberdeenshire
                          Anglesey
                          Angus
                          Argyll and Bute
                          Bedfordshire
                          Berkshire
                          Blaenau Gwent
                          Bridgend
                          Bristol
                          Buckinghamshire
                          Caerphilly
                          Cambridgeshire
                          Cardiff
                          Carmarthenshire
                          Ceredigion
                          Cheshire
                          Clackmannanshire
                          Conwy
                          Cornwall
                          County Antrim
                          County Armagh
                          County Down
                          County Fermanagh
                          County Londonderry
                          County Tyrone
                          Cumbria
                          Denbighshire
                          Derbyshire
                          Devon
                          Dorset
                          Dumfries and Galloway
                          Dundee
                          Durham
                          East Ayrshire
                          East Dunbartonshire
                          East Lothian
                          East Renfrewshire
                          East Riding of Yorkshire
                          East Sussex
                          Edinburgh
                          Essex
                          Falkirk
                          Fife
                          Flintshire
                          Glasgow
                          Gloucestershire
                          Greater London
                          Greater Manchester
                          Gwynedd
                          Hampshire
                          Herefordshire
                          Hertfordshire
                          Highlands
                          Inverclyde
                          Isle of Wight
                          Kent
                          Lancashire
                          Leicestershire
                          Lincolnshire
                          Merseyside
                          Merthyr Tydfil
                          Midlothian
                          Monmouthshire
                          Moray
                          Neath Port Talbot
                          Newport
                          Norfolk
                          North Ayrshire
                          North Lanarkshire
                          North Yorkshire
                          Northamptonshire
                          Northumberland
                          Nottinghamshire
                          Orkney Islands
                          Oxfordshire
                          Pembrokeshire
                          Perth and Kinross
                          Powys
                          Renfrewshire
                          Rhondda Cynon Taff
                          Rutland
                          Scottish Borders
                          Shetland Islands
                          Shropshire
                          Somerset
                          South Ayrshire
                          South Lanarkshire
                          South Yorkshire
                          Staffordshire
                          Stirling
                          Suffolk
                          Surrey
                          Swansea
                          Torfaen
                          Tyne and Wear
                          Vale of Glamorgan
                          Warwickshire
                          West Dunbartonshire
                          West Lothian
                          West Midlands
                          West Sussex
                          West Yorkshire
                          Western Isles
                          Wiltshire
                          Worcestershire
                          Wrexham
                      
          
        

        
      
      
        Continue
      
    
  

&lt;!--
$(&quot; , &quot;'&quot; , &quot;input[name=\&quot; , &quot;'&quot; , &quot;shipping_existing\&quot; , &quot;'&quot; , &quot;]&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    if ($(this).val() == 1) {
        $(&quot; , &quot;'&quot; , &quot;#shipping-existing&quot; , &quot;'&quot; , &quot;).show();
        $(&quot; , &quot;'&quot; , &quot;#shipping-new&quot; , &quot;'&quot; , &quot;).hide();
    } else {
        $(&quot; , &quot;'&quot; , &quot;#shipping-existing&quot; , &quot;'&quot; , &quot;).hide();
        $(&quot; , &quot;'&quot; , &quot;#shipping-new&quot; , &quot;'&quot; , &quot;).show();
    }
});

// Existing Shipping Address
$(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=checkout/shipping_address.address&amp;language=en-gb&amp;address_id=&quot; , &quot;'&quot; , &quot; + $(element).val(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
            },
            complete: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
            },
            success: function(json) {
                console.log(json);

                $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                $(&quot; , &quot;'&quot; , &quot;#error-shipping-address&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);

                if (json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;]) {
                    location = json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;];
                }

                if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#error-shipping-address&quot; , &quot;'&quot; , &quot;).html(json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]).addClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);
                }

                if (json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#input-payment-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#checkout-confirm&quot; , &quot;'&quot; , &quot;).load(&quot; , &quot;'&quot; , &quot;index.php?route=checkout/confirm.confirm&amp;language=en-gb&quot; , &quot;'&quot; , &quot;);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

// New Shipping Address
$(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;submit&quot; , &quot;'&quot; , &quot;, function(e) {
    e.preventDefault();

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=checkout/shipping_address.save&amp;language=en-gb&quot; , &quot;'&quot; , &quot;,
            type: &quot; , &quot;'&quot; , &quot;post&quot; , &quot;'&quot; , &quot;,
            data: $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).serialize(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            contentType: &quot; , &quot;'&quot; , &quot;application/x-www-form-urlencoded&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(&quot; , &quot;'&quot; , &quot;#button-shipping-address&quot; , &quot;'&quot; , &quot;).button(&quot; , &quot;'&quot; , &quot;loading&quot; , &quot;'&quot; , &quot;);
            },
            complete: function() {
                $(&quot; , &quot;'&quot; , &quot;#button-shipping-address&quot; , &quot;'&quot; , &quot;).button(&quot; , &quot;'&quot; , &quot;reset&quot; , &quot;'&quot; , &quot;);
            },
            success: function(json) {
                console.log(json);

                $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.is-invalid&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.invalid-feedback&quot; , &quot;'&quot; , &quot;).removeClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);

                if (json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;]) {
                    location = json[&quot; , &quot;'&quot; , &quot;redirect&quot; , &quot;'&quot; , &quot;];
                }

                if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                    if (json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][&quot; , &quot;'&quot; , &quot;warning&quot; , &quot;'&quot; , &quot;]) {
                        $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-danger alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-exclamation&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][&quot; , &quot;'&quot; , &quot;warning&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);
                    }

                    for (i in json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                        for (key in json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;]) {
                            $(&quot; , &quot;'&quot; , &quot;#input-shipping-&quot; , &quot;'&quot; , &quot; + key.replaceAll(&quot; , &quot;'&quot; , &quot;_&quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot;-&quot; , &quot;'&quot; , &quot;)).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;).find(&quot; , &quot;'&quot; , &quot;.form-control, .form-select, .form-check-input, .form-check-label&quot; , &quot;'&quot; , &quot;).addClass(&quot; , &quot;'&quot; , &quot;is-invalid&quot; , &quot;'&quot; , &quot;);
                            $(&quot; , &quot;'&quot; , &quot;#error-shipping-&quot; , &quot;'&quot; , &quot; + key.replaceAll(&quot; , &quot;'&quot; , &quot;_&quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot;-&quot; , &quot;'&quot; , &quot;)).html(json[&quot; , &quot;'&quot; , &quot;error&quot; , &quot;'&quot; , &quot;][key]).addClass(&quot; , &quot;'&quot; , &quot;d-block&quot; , &quot;'&quot; , &quot;);
                        }
                    }
                }

                if (json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;]) {
                    $(&quot; , &quot;'&quot; , &quot;#alert&quot; , &quot;'&quot; , &quot;).prepend(&quot; , &quot;'&quot; , &quot;&lt;div class=&quot;alert alert-success alert-dismissible&quot;>&lt;i class=&quot;fa-solid fa-circle-check&quot;>&lt;/i> &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;success&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;alert&quot;>&lt;/button>&lt;/div>&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#form-shipping-address&quot; , &quot;'&quot; , &quot;)[0].reset();

                    var html = &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;

                    if (json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;]) {
                        for (i in json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;]) {
                            html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;address_id&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&quot;>&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;firstname&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot; &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;lastname&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + (json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;company&quot; , &quot;'&quot; , &quot;] ? json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;company&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; : &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;address_1&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;city&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;, &quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;addresses&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;country&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&lt;/option>&quot; , &quot;'&quot; , &quot;;
                        }
                    }

                    // Shipping Address
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).html(html);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-address&quot; , &quot;'&quot; , &quot;).val(json[&quot; , &quot;'&quot; , &quot;address_id&quot; , &quot;'&quot; , &quot;]);

                    $(&quot; , &quot;'&quot; , &quot;#shipping-addresses&quot; , &quot;'&quot; , &quot;).css({display: &quot; , &quot;'&quot; , &quot;block&quot; , &quot;'&quot; , &quot;});

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-existing&quot; , &quot;'&quot; , &quot;).trigger(&quot; , &quot;'&quot; , &quot;click&quot; , &quot;'&quot; , &quot;);

                    // Payment Address
                    var payment_address_id = $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).val();

                    $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).html(html);

                    if (payment_address_id) {
                        $(&quot; , &quot;'&quot; , &quot;#input-payment-address&quot; , &quot;'&quot; , &quot;).val(payment_address_id);
                    }

                    $(&quot; , &quot;'&quot; , &quot;#payment-addresses&quot; , &quot;'&quot; , &quot;).css({display: &quot; , &quot;'&quot; , &quot;block&quot; , &quot;'&quot; , &quot;});

                    $(&quot; , &quot;'&quot; , &quot;#input-payment-existing&quot; , &quot;'&quot; , &quot;).trigger(&quot; , &quot;'&quot; , &quot;click&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);
                    $(&quot; , &quot;'&quot; , &quot;#input-payment-method&quot; , &quot;'&quot; , &quot;).val(&quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;);

                    $(&quot; , &quot;'&quot; , &quot;#checkout-confirm&quot; , &quot;'&quot; , &quot;).load(&quot; , &quot;'&quot; , &quot;index.php?route=checkout/confirm.confirm&amp;language=en-gb&quot; , &quot;'&quot; , &quot;);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});

$(&quot; , &quot;'&quot; , &quot;#input-shipping-country&quot; , &quot;'&quot; , &quot;).on(&quot; , &quot;'&quot; , &quot;change&quot; , &quot;'&quot; , &quot;, function() {
    var element = this;

    chain.attach(function() {
        return $.ajax({
            url: &quot; , &quot;'&quot; , &quot;index.php?route=localisation/country&amp;language=en-gb&amp;country_id=&quot; , &quot;'&quot; , &quot; + $(&quot; , &quot;'&quot; , &quot;#input-shipping-country&quot; , &quot;'&quot; , &quot;).val(),
            dataType: &quot; , &quot;'&quot; , &quot;json&quot; , &quot;'&quot; , &quot;,
            beforeSend: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, true);
            },
            complete: function() {
                $(element).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).prop(&quot; , &quot;'&quot; , &quot;disabled&quot; , &quot;'&quot; , &quot;, false);
            },
            success: function(json) {
                if (json[&quot; , &quot;'&quot; , &quot;postcode_required&quot; , &quot;'&quot; , &quot;] == &quot; , &quot;'&quot; , &quot;1&quot; , &quot;'&quot; , &quot;) {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-postcode&quot; , &quot;'&quot; , &quot;).parent().addClass(&quot; , &quot;'&quot; , &quot;required&quot; , &quot;'&quot; , &quot;);
                } else {
                    $(&quot; , &quot;'&quot; , &quot;#input-shipping-postcode&quot; , &quot;'&quot; , &quot;).parent().removeClass(&quot; , &quot;'&quot; , &quot;required&quot; , &quot;'&quot; , &quot;);
                }

                html = &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot;>\u0020\u002D\u002D\u002D\u0020Please\u0020Select\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;

                if (json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] &amp;&amp; json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;] != &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) {
                    for (i = 0; i &lt; json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;].length; i++) {
                        html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone_id&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&quot;&quot; , &quot;'&quot; , &quot;;

                        if (json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;zone_id&quot; , &quot;'&quot; , &quot;] == &quot; , &quot;'&quot; , &quot;&quot; , &quot;'&quot; , &quot;) {
                            html += &quot; , &quot;'&quot; , &quot; selected&quot; , &quot;'&quot; , &quot;;
                        }

                        html += &quot; , &quot;'&quot; , &quot;>&quot; , &quot;'&quot; , &quot; + json[&quot; , &quot;'&quot; , &quot;zone&quot; , &quot;'&quot; , &quot;][i][&quot; , &quot;'&quot; , &quot;name&quot; , &quot;'&quot; , &quot;] + &quot; , &quot;'&quot; , &quot;&lt;/option>&quot; , &quot;'&quot; , &quot;;
                    }
                } else {
                    html += &quot; , &quot;'&quot; , &quot;&lt;option value=&quot;0&quot; selected>\u0020\u002D\u002D\u002D\u0020None\u0020\u002D\u002D\u002D\u0020&lt;/option>&quot; , &quot;'&quot; , &quot;;
                }

                $(&quot; , &quot;'&quot; , &quot;#input-shipping-zone&quot; , &quot;'&quot; , &quot;).html(html);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log(thrownError + &quot;\r\n&quot; + xhr.statusText + &quot;\r\n&quot; + xhr.responseText);
            }
        });
    });
});
//-->

                      &quot;))]</value>
      <webElementGuid>91eeca69-c99c-42ea-91ce-275dfcf04912</webElementGuid>
   </webElementXpaths>
</WebElementEntity>
